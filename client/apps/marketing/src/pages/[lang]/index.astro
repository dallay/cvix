---
import CTA from "@/components/sections/CTA.astro";
import FAQ from "@/components/sections/FAQ.astro";
import Feature from "@/components/sections/Feature.astro";
import Footer from "@/components/sections/Footer.astro";
import Hero from "@/components/sections/Hero.astro";
import HowItWorks from "@/components/sections/HowItWorks.astro";
import TrustMetrics from "@/components/sections/TrustMetrics.astro";
import { type Lang, LOCALES, useTranslations } from "@/i18n";
import Layout from "@/layouts/Base.astro";

const locale = Astro.currentLocale as Lang;
const t = useTranslations(locale);

export const getStaticPaths = () =>
	Object.keys(LOCALES).map((lang) => ({
		params: { lang },
	}));

// SEO structured data for SoftwareApplication
const structuredData = {
	"@context": "https://schema.org",
	"@type": "SoftwareApplication",
	"name": "Civix",
	"applicationCategory": "BusinessApplication",
	"description": t('home.description'),
	"operatingSystem": "Web Browser",
	"offers": {
		"@type": "Offer",
		"price": "0",
		"priceCurrency": "USD"
	},
	"aggregateRating": {
		"@type": "AggregateRating",
		"ratingValue": "4.8",
		"ratingCount": "500"
	}
};
---

<Layout 
	title={t('home.title')} 
	description={t('home.description')}
>
	<script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
	<Hero />
	<Feature />
	<HowItWorks />
	<TrustMetrics />
	<CTA />
	<FAQ />
	<Footer />
</Layout>
