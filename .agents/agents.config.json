{
	"$schema": "./agents.config.schema.json",
	"_comment": "Single source of truth for AI agent configurations. All paths are relative to repo root.",

	"sourceDir": ".agents",

	"agents": {
		"opencode": {
			"enabled": true,
			"description": "OpenCode AI - Terminal-based AI coding assistant",
			"targets": {
				"skills": {
					"source": "skills",
					"destination": ".opencode/skill",
					"type": "symlink-contents"
				},
				"commands": {
					"source": "command",
					"destination": ".opencode/command",
					"type": "symlink-contents",
					"pattern": "*.md"
				}
			}
		},

		"github-copilot": {
			"enabled": true,
			"description": "GitHub Copilot - VS Code and GitHub integrated AI",
			"targets": {
				"instructions": {
					"source": "AGENTS.md",
					"destination": ".github/copilot-instructions.md",
					"type": "symlink"
				},
				"agents": {
					"source": "command",
					"destination": ".github/agents",
					"type": "symlink-contents",
					"pattern": "*.agent.md"
				},
				"prompts": {
					"source": "prompts",
					"destination": ".github/prompts",
					"type": "symlink-contents",
					"pattern": "*.prompt.md"
				}
			}
		},

		"claude": {
			"enabled": true,
			"description": "Claude Code - Anthropic's AI coding assistant",
			"targets": {
				"instructions": {
					"source": "AGENTS.md",
					"destination": "CLAUDE.md",
					"type": "symlink"
				},
				"mcp": {
					"source": ".mcp.json",
					"destination": ".mcp.json",
					"type": "symlink"
				},
				"agents": {
					"source": "command",
					"destination": ".claude/commands",
					"type": "symlink-contents",
					"pattern": "*.agent.md"
				},
				"skills": {
					"source": "skills",
					"destination": ".claude/skills",
					"type": "symlink-contents"
				}
			}
		},

		"gemini-cli": {
			"enabled": true,
			"description": "Gemini CLI - Google's AI coding assistant",
			"targets": {
				"instructions": {
					"source": "AGENTS.md",
					"destination": "GEMINI.md",
					"type": "symlink"
				},
				"agents": {
					"source": "command",
					"destination": ".gemini/commands",
					"type": "symlink-contents",
					"pattern": "*.agent.md"
				},
				"skills": {
					"source": "skills",
					"destination": ".gemini/skills",
					"type": "symlink-contents"
				}
			}
		},

		"cursor": {
			"enabled": false,
			"description": "Cursor - AI-first code editor",
			"targets": {
				"rules": {
					"source": "AGENTS.md",
					"destination": ".cursor/rules",
					"type": "symlink"
				}
			}
		},

		"root-agents-md": {
			"enabled": true,
			"description": "Root AGENTS.md for tools that look for it in repo root",
			"targets": {
				"agents": {
					"source": "AGENTS.md",
					"destination": "AGENTS.md",
					"type": "symlink"
				}
			}
		}
	},

	"gitignore": {
		"managed": true,
		"marker": "AI Agent Symlinks",
		"entries": [
			"AGENTS.md",
			"CLAUDE.md",
			"GEMINI.md",
			".mcp.json",
			".github/copilot-instructions.md",
			".github/agents/",
			".github/prompts/",
			".opencode/skill/",
			".opencode/command/",
			".claude/commands/",
			".claude/skills/",
			".gemini/commands/",
			".gemini/skills/",
			".cursor/rules"
		]
	}
}
