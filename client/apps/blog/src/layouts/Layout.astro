---
import { AHREFS_KEY } from "astro:env/client";
import {
	Analytics,
	BaseLayout as Base,
	Footer,
	Header,
	LocaleSuggest,
} from "@cvix/astro-ui";
import type { Lang } from "@cvix/i18n/astro";
import { footerNavLinks, getOgImagePath } from "@cvix/lib";

interface Props {
	title: string;
	description: string;
}

const { title, description } = Astro.props;
const ogImage = new URL(getOgImagePath(Astro.url.pathname), Astro.url.origin)
	.href;
const og = {
	image: ogImage,
	xAccount: "@yacosta738",
};
---

<Base {title} {description} {og}>
  <slot name="header" slot="header">
    <LocaleSuggest />
    <Header />
  </slot>
  <slot name="subheader" slot="subheader" />
  <div class="container mx-auto px-4 pt-24 prose lg:prose-xl xl:prose-2xl dark:prose-invert">
    <slot />
  </div>
  <Analytics key={AHREFS_KEY} slot="analytics"/>
  <Footer links={footerNavLinks(Astro.currentLocale as Lang)}/>
</Base>
