---
import { CVIX_API_URL } from "astro:env/client";
import { cn } from "@cvix/lib";
import type { HTMLAttributes } from "astro/types";
import { type Lang, useTranslations } from "@/i18n/i18n.ts";

interface Props extends HTMLAttributes<"section"> {
	title?: string;
	description?: string;
	formId?: string;
}

const { title, description, formId, ...attrs } = Astro.props as Props;
const currentLocale = Astro.currentLocale as Lang;
const t = useTranslations(currentLocale);
---

<section
	class={cn(
		"flex w-full will-change-transform",
		attrs.class
	)}
	id={formId}
	{...attrs}
>
	<div
		class={cn(
			"flex py-5 px-0",
			"transition-colors duration-350 ease-in-out w-full"
		)}
	>
		<div class="flex gap-5 mx-auto w-full">
			<div class="flex flex-col w-full max-w-4xl">
				<h1
					class={cn(
						"text-gray-900 dark:text-white text-3xl @md:text-5xl font-bold leading-tight tracking-tight relative",
						"transition-colors duration-350 animate-fadeIn font-heading"
					)}
				>
					{title || t({
            en: "Join the ProfileTailors Waitlist",
            es: "Únete a la lista de espera de ProfileTailors",
          })}
				</h1>
				<p
					class={cn(
						"text-gray-900 dark:text-white relative mt-2 text-base font-medium tracking-wide leading-relaxed",
						"animate-fadeIn animation-delay-150"
					)}
				>
					{description || t({
            en: "Sign up to be the first to know when ProfileTailors is available and receive exclusive updates.",
            es: "Regístrate para ser el primero en saber cuándo ProfileTailors estará disponible y recibir actualizaciones exclusivas.",
          })}
				</p>
                <div class="flex mt-6 w-full">
                    <!-- Cvix embeddable form -->
                    <div
                      data-cvix-form-id="2b7e7d65-bae8-4c13-9135-b9a045598259"
                      data-cvix-api-url={`${CVIX_API_URL}`}
                      class="w-full"
                    ></div>
                </div>
			</div>
		</div>
	</div>
</section>
