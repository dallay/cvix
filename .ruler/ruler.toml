# Ruler Configuration File
# See https://ai.intellectronica.net/ruler for documentation.

# To specify which agents are active by default when --agents is not used,
# uncomment and populate the following line. If omitted, all agents are active.
default_agents = ["copilot", "gemini-cli", "claude", "opencode"]

# Enable nested mode to allow for context-specific rules in subdirectories.
nested = true

[gitignore]
enabled = true

[mcp]
enabled = true
merge_strategy = "merge"

# --- MCP Server Definitions ---

[mcp_servers.sequentialthinking]
command = "docker"
args = [
    "run",
    "--rm",
    "-i",
    "--read-only",
    "--cap-drop=ALL",
    "--security-opt=no-new-privileges",
    "-v",
    "mcp-seq-data:/app/data",
    "mcp/sequentialthinking"
]

[mcp_servers.memory]
command = "docker"
args = [
    "run",
    "-i",
    "-v",
    "claude-memory:/app/dist",
    "--rm",
    "--read-only",
    "--cap-drop=ALL",
    "--security-opt=no-new-privileges",
    "mcp/memory"
]

[mcp_servers.astro-docs]
command = "npx"
args = ["-y", "mcp-remote", "https://mcp.docs.astro.build/mcp"]

[mcp_servers.playwright-mcp]
command = "docker"
args = [
    "run",
    "--rm",
    "-i",
    "--read-only",
    "--cap-drop=ALL",
    "--security-opt=no-new-privileges",
    "-v",
    "mcp-playwright-data:/app/data",
    "mcr.microsoft.com/playwright/mcp"
]
